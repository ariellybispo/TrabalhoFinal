<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Blog</title>
<link rel="stylesheet" href="/style.css">
    <script src="/script.js" defer></script>
</head>
<body>

<div class="container">
    <h1>Blog</h1>

    <div class="lista">
        <th:block th:each="p : ${publicacoes}">
            <div class="card">

                <h2 th:text="${p.titulo}"></h2>

                <p><strong>Autor:</strong> <span th:text="${p.autor}"></span></p>

                <p>
                    <strong>Publicado em:</strong>
                    <span th:text="${p.dataPublicacao}"></span>

                    <span class="badge" 
                          th:if="${p.dataPublicacao.isAfter(T(java.time.LocalDate).now())}">
                        NÃO PUBLICADO
                    </span>
                </p>

                <p th:text="${p.texto}"></p>

                <button class="alterar" th:onclick="'location.href=\'/editar/' + ${p.id} + '\';'">
                    Alterar
                </button>
<button class="excluir" th:onclick="'confirmarExclusao(' + ${p.id} + ')'">
    Excluir
</button>

            </div>
        </th:block>

        <button class="novo" onclick="location.href='/novo'">Incluir nova publicação</button>
    </div>

    <footer>Arielly Bispo / Eduardo Sampaio / TADS - A / 2025</footer>
</div>

</body>
</html>
